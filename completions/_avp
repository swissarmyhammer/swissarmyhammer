#compdef avp

autoload -U is-at-least

_avp() {
    typeset -A opt_args
    typeset -a _arguments_options
    local ret=1

    if is-at-least 5.2; then
        _arguments_options=(-s -S -C)
    else
        _arguments_options=(-s -C)
    fi

    local context curcontext="$curcontext" state line
    _arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'-V[Print version]' \
'--version[Print version]' \
":: :_avp_commands" \
"*::: :->avp" \
&& ret=0
    case $state in
    (avp)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:avp-command-$line[1]:"
        case $line[1] in
            (init)
_arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'::target -- Where to install the hooks:((project\:"Project-level settings (.claude/settings.json)"
local\:"Local project settings, not committed (.claude/settings.local.json)"
user\:"User-level settings (~/.claude/settings.json)"))' \
&& ret=0
;;
(deinit)
_arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'::target -- Where to remove the hooks from:((project\:"Project-level settings (.claude/settings.json)"
local\:"Local project settings, not committed (.claude/settings.local.json)"
user\:"User-level settings (~/.claude/settings.json)"))' \
&& ret=0
;;
(doctor)
_arguments "${_arguments_options[@]}" : \
'-v[Show detailed output including fix suggestions]' \
'--verbose[Show detailed output including fix suggestions]' \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(edit)
_arguments "${_arguments_options[@]}" : \
'--local[Edit in project (.avp/validators/) \[default\]]' \
'--project[Edit in project (.avp/validators/) \[default\]]' \
'--global[Edit in user-level directory (~/.avp/validators/)]' \
'--user[Edit in user-level directory (~/.avp/validators/)]' \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
':name -- RuleSet name (kebab-case):_default' \
&& ret=0
;;
(new)
_arguments "${_arguments_options[@]}" : \
'--local[Create in project (.avp/validators/) \[default\]]' \
'--project[Create in project (.avp/validators/) \[default\]]' \
'--global[Create in user-level directory (~/.avp/validators/)]' \
'--user[Create in user-level directory (~/.avp/validators/)]' \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
':name -- RuleSet name (kebab-case):_default' \
&& ret=0
;;
(model)
_arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_avp__model_commands" \
"*::: :->model" \
&& ret=0

    case $state in
    (model)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:avp-model-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(use)
_arguments "${_arguments_options[@]}" : \
'-d[Enable debug output to stderr]' \
'--debug[Enable debug output to stderr]' \
'-h[Print help]' \
'--help[Print help]' \
':name -- Model name to apply:_default' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_avp__model__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:avp-model-help-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(use)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_avp__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:avp-help-command-$line[1]:"
        case $line[1] in
            (init)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(deinit)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(doctor)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(edit)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(new)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(model)
_arguments "${_arguments_options[@]}" : \
":: :_avp__help__model_commands" \
"*::: :->model" \
&& ret=0

    case $state in
    (model)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:avp-help-model-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(use)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
}

(( $+functions[_avp_commands] )) ||
_avp_commands() {
    local commands; commands=(
'init:Install AVP hooks into Claude Code settings' \
'deinit:Remove AVP hooks from Claude Code settings and delete .avp directory' \
'doctor:Diagnose AVP configuration and setup' \
'edit:Edit an existing RuleSet in \$EDITOR' \
'new:Create a new RuleSet from template' \
'model:Manage AI model configurations' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'avp commands' commands "$@"
}
(( $+functions[_avp__deinit_commands] )) ||
_avp__deinit_commands() {
    local commands; commands=()
    _describe -t commands 'avp deinit commands' commands "$@"
}
(( $+functions[_avp__doctor_commands] )) ||
_avp__doctor_commands() {
    local commands; commands=()
    _describe -t commands 'avp doctor commands' commands "$@"
}
(( $+functions[_avp__edit_commands] )) ||
_avp__edit_commands() {
    local commands; commands=()
    _describe -t commands 'avp edit commands' commands "$@"
}
(( $+functions[_avp__help_commands] )) ||
_avp__help_commands() {
    local commands; commands=(
'init:Install AVP hooks into Claude Code settings' \
'deinit:Remove AVP hooks from Claude Code settings and delete .avp directory' \
'doctor:Diagnose AVP configuration and setup' \
'edit:Edit an existing RuleSet in \$EDITOR' \
'new:Create a new RuleSet from template' \
'model:Manage AI model configurations' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'avp help commands' commands "$@"
}
(( $+functions[_avp__help__deinit_commands] )) ||
_avp__help__deinit_commands() {
    local commands; commands=()
    _describe -t commands 'avp help deinit commands' commands "$@"
}
(( $+functions[_avp__help__doctor_commands] )) ||
_avp__help__doctor_commands() {
    local commands; commands=()
    _describe -t commands 'avp help doctor commands' commands "$@"
}
(( $+functions[_avp__help__edit_commands] )) ||
_avp__help__edit_commands() {
    local commands; commands=()
    _describe -t commands 'avp help edit commands' commands "$@"
}
(( $+functions[_avp__help__help_commands] )) ||
_avp__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'avp help help commands' commands "$@"
}
(( $+functions[_avp__help__init_commands] )) ||
_avp__help__init_commands() {
    local commands; commands=()
    _describe -t commands 'avp help init commands' commands "$@"
}
(( $+functions[_avp__help__model_commands] )) ||
_avp__help__model_commands() {
    local commands; commands=(
'list:List all available models' \
'show:Show the current model configuration' \
'use:Apply a specific model to the project' \
    )
    _describe -t commands 'avp help model commands' commands "$@"
}
(( $+functions[_avp__help__model__list_commands] )) ||
_avp__help__model__list_commands() {
    local commands; commands=()
    _describe -t commands 'avp help model list commands' commands "$@"
}
(( $+functions[_avp__help__model__show_commands] )) ||
_avp__help__model__show_commands() {
    local commands; commands=()
    _describe -t commands 'avp help model show commands' commands "$@"
}
(( $+functions[_avp__help__model__use_commands] )) ||
_avp__help__model__use_commands() {
    local commands; commands=()
    _describe -t commands 'avp help model use commands' commands "$@"
}
(( $+functions[_avp__help__new_commands] )) ||
_avp__help__new_commands() {
    local commands; commands=()
    _describe -t commands 'avp help new commands' commands "$@"
}
(( $+functions[_avp__init_commands] )) ||
_avp__init_commands() {
    local commands; commands=()
    _describe -t commands 'avp init commands' commands "$@"
}
(( $+functions[_avp__model_commands] )) ||
_avp__model_commands() {
    local commands; commands=(
'list:List all available models' \
'show:Show the current model configuration' \
'use:Apply a specific model to the project' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'avp model commands' commands "$@"
}
(( $+functions[_avp__model__help_commands] )) ||
_avp__model__help_commands() {
    local commands; commands=(
'list:List all available models' \
'show:Show the current model configuration' \
'use:Apply a specific model to the project' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'avp model help commands' commands "$@"
}
(( $+functions[_avp__model__help__help_commands] )) ||
_avp__model__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'avp model help help commands' commands "$@"
}
(( $+functions[_avp__model__help__list_commands] )) ||
_avp__model__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'avp model help list commands' commands "$@"
}
(( $+functions[_avp__model__help__show_commands] )) ||
_avp__model__help__show_commands() {
    local commands; commands=()
    _describe -t commands 'avp model help show commands' commands "$@"
}
(( $+functions[_avp__model__help__use_commands] )) ||
_avp__model__help__use_commands() {
    local commands; commands=()
    _describe -t commands 'avp model help use commands' commands "$@"
}
(( $+functions[_avp__model__list_commands] )) ||
_avp__model__list_commands() {
    local commands; commands=()
    _describe -t commands 'avp model list commands' commands "$@"
}
(( $+functions[_avp__model__show_commands] )) ||
_avp__model__show_commands() {
    local commands; commands=()
    _describe -t commands 'avp model show commands' commands "$@"
}
(( $+functions[_avp__model__use_commands] )) ||
_avp__model__use_commands() {
    local commands; commands=()
    _describe -t commands 'avp model use commands' commands "$@"
}
(( $+functions[_avp__new_commands] )) ||
_avp__new_commands() {
    local commands; commands=()
    _describe -t commands 'avp new commands' commands "$@"
}

if [ "$funcstack[1]" = "_avp" ]; then
    _avp "$@"
else
    compdef _avp avp
fi

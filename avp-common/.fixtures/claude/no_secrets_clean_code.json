{
  "calls": [
    {
      "method": "initialize",
      "request": {
        "clientCapabilities": {
          "fs": {
            "readTextFile": false,
            "writeTextFile": false
          },
          "terminal": false
        },
        "protocolVersion": 1
      },
      "response": {
        "agentCapabilities": {
          "_meta": {
            "streaming": true
          },
          "loadSession": true,
          "mcpCapabilities": {
            "http": true,
            "sse": false
          },
          "promptCapabilities": {
            "_meta": {
              "streaming": true
            },
            "audio": true,
            "embeddedContext": true,
            "image": true
          },
          "sessionCapabilities": {}
        },
        "agentInfo": {
          "name": "claude-agent",
          "title": "Claude Agent (Playback)",
          "version": "0.1.0"
        },
        "authMethods": [],
        "protocolVersion": 1
      },
      "notifications": []
    },
    {
      "method": "new_session",
      "request": {
        "cwd": "/tmp",
        "mcpServers": []
      },
      "response": {
        "sessionId": "test-session-clean-code"
      },
      "notifications": []
    },
    {
      "method": "prompt",
      "request": {
        "prompt": [
          {
            "text": "validator prompt",
            "type": "text"
          }
        ],
        "sessionId": "test-session-clean-code"
      },
      "response": {
        "_meta": {
          "claude_response": "{\"status\": \"passed\", \"message\": \"No hardcoded secrets detected. All sensitive values are properly retrieved from environment variables (process.env.API_KEY, process.env.AWS_ACCESS_KEY, process.env.DATABASE_URL).\"}",
          "processed": true,
          "session_messages": 3,
          "streaming": false
        },
        "stopReason": "end_turn"
      },
      "notifications": [
        {
          "sessionId": "test-session-clean-code",
          "update": {
            "content": {
              "text": "{\"status\": \"passed\", \"message\": \"No hardcoded secrets detected. All sensitive values are properly retrieved from environment variables (process.env.API_KEY, process.env.AWS_ACCESS_KEY, process.env.DATABASE_URL).\"}",
              "type": "text"
            },
            "sessionUpdate": "agent_message_chunk"
          }
        }
      ]
    }
  ]
}
